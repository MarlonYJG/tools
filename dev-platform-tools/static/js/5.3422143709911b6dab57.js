webpackJsonp([5],{"9rJ8":function(e,l,a){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t=a("mvHQ"),i=a.n(t),o=a("is1l"),n={props:{ColDialogVisible:{type:Boolean,default:!1},ColDialogConfig:{type:Object,default:function(){return{title:"",header:{show:!0,data:[{type:"button",class:"",label:"添加数据源",cb:""}]},connect:{readyOnly:!1,data:[{label:{name:"数据来源",width:120},list:[{type:"select",defaultVal:"",placeholder:"",modelKey:"",option:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]}]}]},foot:{show:!0,data:[]}}}}},data:function(){return{dialogTableVisible:!1,form:{},options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value:""}},watch:{ColDialogVisible:function(e){this.dialogTableVisible=e},ColDialogConfig:{handler:function(e,l){},deep:!0,immediate:!0}},methods:{submitBtn:function(e){e.cb&&e.cb(this.form)},close:function(){this.$emit("editBtnCb",{label:"close",close:this.dialogTableVisible})},headerBtn:function(e){e.cb&&(e.cb(this.form),this.dialogTableVisible=!1)}}},s={render:function(){var e=this,l=e.$createElement,a=e._self._c||l;return a("el-dialog",{attrs:{title:e.ColDialogConfig&&e.ColDialogConfig.title||"",visible:e.dialogTableVisible,width:e.ColDialogConfig&&e.ColDialogConfig.width?e.ColDialogConfig.width+"px":null},on:{"update:visible":function(l){e.dialogTableVisible=l},close:e.close}},[e.ColDialogConfig&&e.ColDialogConfig.header.show?a("ul",{staticClass:"area-title-btn"},e._l(e.ColDialogConfig.header.data,function(l,t){return a("li",{key:t},[a("el-button",{attrs:{size:"small",type:l.classType||null},on:{click:function(a){return e.headerBtn(l)}}},[e._v(e._s(l.label))])],1)}),0):e._e(),e._v(" "),e.ColDialogConfig?a("el-form",{staticClass:"ColDialog",attrs:{model:e.form}},[e._l(e.ColDialogConfig.connect.data,function(l,t){return[a("el-form-item",{key:t,attrs:{label:l.label&&l.label.name?l.label.name+"：":"","label-width":l.label.width?l.label.width+"px":null}},[a("ul",{staticClass:"area-change"},e._l(l.list,function(t,i){return a("li",{key:i},["select"===t.type?[a("el-select",{attrs:{filterable:"",placeholder:t.placeholder,size:"small"},model:{value:e.form[l.modelKey],callback:function(a){e.$set(e.form,l.modelKey,a)},expression:"form[item.modelKey]"}},e._l(t.option,function(e,l){return a("el-option",{key:l,attrs:{label:e.label,value:e.value}})}),1)]:e._e()],2)}),0)])]})],2):e._e(),e._v(" "),e.ColDialogConfig&&e.ColDialogConfig.foot.show?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e._l(e.ColDialogConfig.foot.data,function(l,t){return["button"===l.type?a("el-button",{key:t,attrs:{type:l.classType||null},on:{click:function(a){return e.submitBtn(l)}}},[e._v(e._s(l.label))]):e._e()]})],2):e._e()],1)},staticRenderFns:[]};var d=a("VU/8")(n,s,!1,function(e){a("CyGj")},"data-v-eb964da6",null).exports,c=(a("Grib"),{mixins:[o.a],components:{ColumnDialog:d},data:function(){var e=this;return{TLoading:!1,TEdit:{show:!0,title:"操作",width:450,editTypes:[{label:"编辑",css:""},{label:"删除",css:"",pass:!0},{label:"设置数据源",css:""},{label:"编辑转换",css:"",link:"/dataCollection/task/conf",jump:{type:"int",mode:"push"}},{label:"数据统计",css:"",link:"/other/dataStatistics",jump:{type:"int",mode:"push"}}]},tableTitle:[{prop:"name",label:"名称"},{prop:"date",label:"数据来源"},{prop:"address",label:"备注"}],tableData:[{date:"122",name:"通用",address:"45"},{date:"122",name:"海淀",address:"45"},{date:"122",name:"山西",address:"45"},{date:"122",name:"济南",address:"45"},{date:"122",name:"山东",address:"45"},{date:"122",name:"贵州",address:"45"},{date:"122",name:"福州",address:"45"},{date:"122",name:"泰安",address:"45"},{date:"122",name:"南京",address:"45"},{date:"122",name:"广州",address:"45"}],TPage:{total:100,index:1,size:10},FDVisible:!1,FDTitle:"",FDForm:[{type:"select",label:{name:"所属项目",width:"120"},width:"200",defaultModel:"",placeholder:"",option:[{label:"海淀",value:"haidian"}]},{type:"input",label:{name:"中文名称",width:"120"},width:"280",defaultModel:"",placeholder:""},{type:"input",label:{name:"库名",width:"120"},width:"280",defaultModel:"",placeholder:""},{type:"textarea",label:{name:"备注",width:"120"},width:"280",defaultModel:"",placeholder:"",autosize:{min:2,max:4}}],FDFoot:{button:[{type:"ok",label:"确定",cb:function(l){switch(e.dialogActiveItem){case"新增任务":case"编辑":return}}}]},TClickItem:[{link:"/",cells:["address"]}],selectOpt:[{value:"选项1",label:"所有项目"},{value:"选项2",label:"通用"},{value:"选项3",label:"南京"},{value:"选项4",label:"山东"},{value:"选项5",label:"济南"}],selectVal:"选项1",dialogActiveItem:"",ColDialogConfig:null,ColDialogVisible:!1}},methods:{editBtnCb:function(e,l,a){var t=e.label;"删除"===t||"close"===t&&(this.FDVisible=e.close,this.ColDialogVisible=e.close)},showDialog:function(e){var l=this,a=e.type,t=e.initDig,o=void 0===t?null:t;switch(this.dialogActiveItem=a,a){case"新增任务":return this.FDTitle="新增任务",this.FDVisible=!0,void(this.FDForm=[{type:"select",label:{name:"项目",width:"120"},width:"200",defaultModel:"",placeholder:"",option:this.selectOpt},{type:"input",label:{name:"编码",width:"120"},width:"280",defaultModel:"",placeholder:""},{type:"input",label:{name:"名称",width:"120"},width:"280",defaultModel:"",placeholder:""},{type:"textarea",label:{name:"备注",width:"120"},width:"280",defaultModel:"",placeholder:"",autosize:{min:2,max:4}}]);case"编辑":if(this.FDTitle="编辑任务信息",this.FDVisible=!0,this.FDForm=[{type:"select",label:{name:"项目",width:"120"},width:"200",defaultModel:"",placeholder:"",option:this.selectOpt},{type:"input",label:{name:"编码",width:"120"},width:"280",defaultModel:"",placeholder:""},{type:"input",label:{name:"名称",width:"120"},width:"280",defaultModel:"",placeholder:""},{type:"textarea",label:{name:"备注",width:"120"},width:"280",defaultModel:"",placeholder:"",autosize:{min:2,max:4}}],o&&"{}"!==i()(o)){var n=function(e){o.hasOwnProperty(e)&&l.FDForm.forEach(function(l){e===l.key&&(l.key=e,l.defaultModel=o[e])})};for(var s in o)n(s)}return;default:return}},showColDialog:function(e){var l=e.type;e.initDig;switch(l){case"设置数据源":this.ColDialogConfig={title:"设置数据源",width:600,header:{show:!0,data:[{type:"button",class:"",label:"添加数据源",classType:"primary",cb:function(){}},{type:"button",class:"info",label:"参照源一键生成目标库",classType:"info",cb:function(){}}]},connect:{readyOnly:!1,data:[{label:{name:"数据来源",width:100},list:[{type:"select",defaultVal:"",placeholder:"请选择数据源类型",modelKey:"",option:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]},{type:"select",defaultVal:"",placeholder:"",modelKey:"",option:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]}]},{label:{name:"数据去向",width:100},list:[{type:"select",defaultVal:"",placeholder:"请选择数据源类型",modelKey:"",option:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]},{type:"select",defaultVal:"",placeholder:"",modelKey:"",option:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]}]}]},foot:{show:!0,data:[{type:"button",class:"",label:"确定",classType:"primary",cb:""}]}},this.ColDialogVisible=!0}},changePage:function(e){var l=e.pageSize,a=e.currentPage;this.$set(this.TPage,"index",a),this.$set(this.TPage,"size",l)},lickCell:function(e){var l=this,a=e.row,t=e.column,i=(e.id,a.datasourceName),o=a.remark;switch(t.label){case"编辑":return void this.showDialog({type:t.label,initDig:{datasourceName:i,remark:o,id:a.id}});case"删除":return void this.$confirm("即将删除“"+i+"”任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){l.del({id:a.id})}).catch(function(){});case"设置数据源":return void this.showColDialog({type:t.label,initDig:{datasourceName:i,remark:o}})}},selectChange:function(e){},del:function(){}},mounted:function(){}}),r={render:function(){var e=this,l=e.$createElement,a=e._self._c||l;return a("div",{staticClass:"task-list"},[a("div",{staticClass:"task-list-edit-area"},[a("ul",{staticClass:"task-list-edit-area-btn"},[a("li",[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(l){return e.showDialog({type:"新增任务"})}}},[e._v("新增任务")])],1)]),e._v(" "),a("ul",{staticClass:"task-list-edit-area-select"},[a("li",[a("label",{attrs:{for:""}},[e._v("项目：")]),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择",size:"small"},on:{change:e.selectChange},model:{value:e.selectVal,callback:function(l){e.selectVal=l},expression:"selectVal"}},e._l(e.selectOpt,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)])]),e._v(" "),a("div",{staticClass:"task-list-table"},[a("TableDefault",{attrs:{TLoading:e.TLoading,TTitle:e.tableTitle,TData:e.tableData,TEdit:e.TEdit,TIsShowPage:!0,TTotal:e.TPage.total,TCurrentPage:e.TPage.index,TPageSize:e.TPage.size},on:{editBtnCb:e.editBtnCb,clickCell:e.lickCell,changePage:e.changePage}})],1),e._v(" "),a("FormDialog",{attrs:{FDVisible:e.FDVisible,FDTitle:e.FDTitle,FDWidth:"500",FDForm:e.FDForm,FDFoot:e.FDFoot},on:{editBtnCb:e.editBtnCb}}),e._v(" "),a("ColumnDialog",{attrs:{ColDialogVisible:e.ColDialogVisible,ColDialogConfig:e.ColDialogConfig},on:{editBtnCb:e.editBtnCb}})],1)},staticRenderFns:[]};var u=a("VU/8")(c,r,!1,function(e){a("A4ON")},"data-v-e36dcc2c",null);l.default=u.exports},A4ON:function(e,l){},CyGj:function(e,l){}});
//# sourceMappingURL=5.3422143709911b6dab57.js.map