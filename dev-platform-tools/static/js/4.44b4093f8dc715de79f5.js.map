{"version":3,"sources":["webpack:///./node_modules/babel-runtime/helpers/classCallCheck.js","webpack:///./src/utils/res-format.js","webpack:///src/views/data-collection/overview/project-manage.vue","webpack:///./src/views/data-collection/overview/project-manage.vue?e85b","webpack:///./src/views/data-collection/overview/project-manage.vue","webpack:///./node_modules/babel-runtime/helpers/createClass.js"],"names":["exports","__esModule","default","instance","Constructor","TypeError","ResDatas","_ref","_ref$res","res","undefined","_ref$code","code","_ref$msg","msg","_ref$error","error","_ref$fieldKey","fieldKey","data","title","total","pageSize","_ref$titleKey","titleKey","load","arguments","length","vm","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default","this","serverError","JSON","parse","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","Number","Message","showClose","message","type","formatDatas","key","hasOwnProperty","resData","Array","isArray","reskey","project_manage","mixins","mixin","_this","TLoading","TEdit","show","editTypes","label","property","pass","tableTitle","prop","tableData","TPage","index","size","TClickItem","link","cells","FDVisible","FDTitle","FDForm","FDFoot","button","cb","form","dialogActiveItem","DSMCAdd","DSMCUpdate","clickObj","methods","editBtnCb","editItem","tid","row","text","close","showDialog","_this2","_ref$initDig","initDig","name","width","clearable","defaultModel","placeholder","autosize","min","max","stringify_default","_loop","forEach","item","changePage","_ref2","currentPage","$set","DSMCList","lickCell","_ref3","_this3","column","datasourceName","id","remark","$confirm","confirmButtonText","cancelButtonText","then","del","catch","datasourceType_value","req","_ref4","mounted","overview_project_manage","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","click","$event","_v","TTitle","TData","TIsShowPage","TTotal","TCurrentPage","TPageSize","clickCell","FDWidth","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","obj","_defineProperty","_defineProperty2","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","protoProps","staticProps","prototype"],"mappings":"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","file":"../static/js/4.44b4093f8dc715de79f5.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/classCallCheck.js\n// module id = Zrlr\n// module chunks = 3 4","/*\r\n * @Author: Marlon\r\n * @Date: 2020-02-21 11:40:57\r\n * @LastEditors: Marlon\r\n * @LastEditTime: 2020-02-24 11:55:48\r\n * @Description: 响应解析\r\n */\r\nimport { Message } from \"element-ui\";\r\n/* \r\n  响应处理类\r\n*/\r\nclass ResDatas {\r\n    constructor({ res = null, code = 200, msg = '成功!', error = '暂无数据',\r\n        fieldKey = {\r\n            data: 'data',\r\n            title: 'title',\r\n            total: 'total',\r\n            pageSize: 'pageSize'\r\n        },\r\n        titleKey = null\r\n    }, load = null, vm = null) {\r\n        this.res = res;\r\n        this.code = code;\r\n        this.vm = vm;\r\n        this.load = load;\r\n        this.msg = msg;\r\n        this.error = error;\r\n        this.serverError = '服务异常';\r\n        this.fieldKey = fieldKey\r\n        this.titleKey = JSON.parse(JSON.stringify(titleKey))\r\n    }\r\n    init() {\r\n        if (this.vm && this.load) {\r\n            this.vm[this.load] = false;\r\n        }\r\n        try {\r\n            if (this.res && this.res.data && Number(this.res.data.code) === Number(this.code)) {\r\n                let resData = this.res.data.data;\r\n                return resData;\r\n            } else {\r\n                Message({\r\n                    showClose: true,\r\n                    message: this.error,\r\n                    type: \"error\"\r\n                });\r\n                return null\r\n            }\r\n        } catch (error) {\r\n            Message({\r\n                showClose: true,\r\n                message: this.serverError,\r\n                type: \"error\"\r\n            });\r\n            console.error(error, '服务异常——响应解析类')\r\n            return null\r\n        }\r\n    }\r\n    state() {\r\n        try {\r\n            if (this.res && this.res.data && Number(this.res.data.code) === Number(this.code)) {\r\n                Message({\r\n                    showClose: true,\r\n                    message: this.msg,\r\n                    type: \"success\"\r\n                });\r\n            } else {\r\n                Message({\r\n                    showClose: true,\r\n                    message: this.error,\r\n                    type: \"error\"\r\n                });\r\n            }\r\n        } catch (error) {\r\n            Message({\r\n                showClose: true,\r\n                message: this.serverError,\r\n                type: \"error\"\r\n            });\r\n            console.error(error, '服务异常——响应解析类')\r\n        }\r\n    }\r\n    formatData() {\r\n        let formatDatas = {};\r\n        for (const key in this.fieldKey) {\r\n            if (this.fieldKey.hasOwnProperty(key)) {\r\n                if (this.fieldKey[key]) {\r\n                    let resData = this.res.data.data;\r\n                    if (resData && JSON.stringify(resData) !== \"{}\") {\r\n                        if (!Array.isArray(resData)) {\r\n                            for (const reskey in resData) {\r\n                                if (resData.hasOwnProperty(reskey)) {\r\n                                    if (this.fieldKey[key] === reskey) {\r\n                                        formatDatas[key] = resData[reskey];\r\n                                    }\r\n                                }\r\n                            }\r\n                        } else {\r\n                            console.error(\"数据类型错误(对象结构)—响应解析类\");\r\n                        }\r\n                    }\r\n                } else if (this.titleKey) {\r\n                    formatDatas['title'] = this.titleKey\r\n                } else {\r\n                    console.error('请配置表头(titleKey)', '响应解析类')\r\n                }\r\n            }\r\n        }\r\n        return formatDatas\r\n    }\r\n}\r\nexport { ResDatas }\n\n\n// WEBPACK FOOTER //\n// ./src/utils/res-format.js","<!--\r\n * @Author: Marlon\r\n * @Date: 2020-02-24 09:00:47\r\n * @LastEditors: Marlon\r\n * @LastEditTime: 2020-02-24 19:37:47\r\n * @Description: 数据采集-全局概览-项目管理\r\n -->\r\n <template>\r\n  <div class=\"d-c-o-project-manage\">\r\n    <div class=\"d-c-o-project-manage-edit-area\">\r\n      <ul class=\"d-c-o-project-manage-edit-area-btn\">\r\n        <li>\r\n          <el-button type=\"primary\" size=\"small\" @click=\"showDialog({type:'新增项目'})\">新增项目</el-button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"d-c-o-project-manage-table\">\r\n      <TableDefault\r\n        :TLoading=\"TLoading\"\r\n        :TTitle=\"tableTitle\"\r\n        :TData=\"tableData\"\r\n        :TIsShowPage=\"true\"\r\n        :TTotal=\"TPage.total\"\r\n        :TCurrentPage=\"TPage.index\"\r\n        :TPageSize=\"TPage.size\"\r\n        :TEdit=\"TEdit\"\r\n        :TClickItem=\"TClickItem\"\r\n        @editBtnCb=\"editBtnCb\"\r\n        @clickCell=\"lickCell\"\r\n        @changePage=\"changePage\"\r\n      ></TableDefault>\r\n    </div>\r\n    <!-- 弹出框 -->\r\n    <FormDialog\r\n      :FDVisible=\"FDVisible\"\r\n      :FDTitle=\"FDTitle\"\r\n      FDWidth=\"500\"\r\n      :FDForm=\"FDForm\"\r\n      :FDFoot=\"FDFoot\"\r\n      @editBtnCb=\"editBtnCb\"\r\n    ></FormDialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mixin from \"mixin\";\r\nimport API from \"api/index\";\r\nimport { ResDatas } from \"utils/res-format\";\r\nexport default {\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      // 编辑-表格配置\r\n      TLoading: false,\r\n      TEdit: {\r\n        show: true,\r\n        title: \"操作\",\r\n        editTypes: [\r\n          {\r\n            label: \"编辑\",\r\n            property: \"edit\"\r\n          },\r\n          {\r\n            label: \"删除\",\r\n            property: \"del\",\r\n            pass: true\r\n          }\r\n        ]\r\n      },\r\n      tableTitle: [\r\n        {\r\n          prop: \"id\",\r\n          label: \"编码\"\r\n        },\r\n        {\r\n          prop: \"datasourceName\",\r\n          label: \"名称\"\r\n        },\r\n        {\r\n          prop: \"datasourceType_value\",\r\n          label: \"采集任务个数\"\r\n        },\r\n        {\r\n          prop: \"remark\",\r\n          label: \"备注\"\r\n        }\r\n      ],\r\n      tableData: [],\r\n      TPage: {\r\n        total: 100,\r\n        index: 1,\r\n        size: 10\r\n      },\r\n      // 可跳转的值\r\n      TClickItem: [\r\n        {\r\n          link: \"/dataCollection/task/list\",\r\n          cells: [\"datasourceType_value\"]\r\n        }\r\n      ],\r\n      // 是否显示弹出框\r\n      FDVisible: false,\r\n      FDTitle: \"\",\r\n      // 弹出框配置\r\n      FDForm: [],\r\n      FDFoot: {\r\n        button: [\r\n          {\r\n            type: \"ok\",\r\n            label: \"确定\",\r\n            cb: form => {\r\n              if (this.dialogActiveItem === \"新增项目\") {\r\n                this.DSMCAdd(form);\r\n              } else {\r\n                this.DSMCUpdate(form);\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      // 获取点击值的信息\r\n      clickObj: \"\",\r\n      // 获取对应行为的弹出框\r\n      dialogActiveItem: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    // 初始化抽象列中元素的信息并执行删除操作(弹出框关闭时的回调)\r\n    editBtnCb(editItem, tid, row) {\r\n      this.clickObj = editItem;\r\n      let text = editItem.label;\r\n      if (text === \"删除\") {\r\n        console.log(\"删除\");\r\n        // API.DSMCDel({ id: row.id }).then(res => {\r\n        //   new ResDatas({ res, msg: \"删除成功!\" }).state();\r\n        //   this.DSMCList();\r\n        // });\r\n      } else if (text === \"close\") {\r\n        this.FDVisible = editItem.close;\r\n      }\r\n    },\r\n    // 显示弹出框并修改配置\r\n    showDialog({ type, initDig = null }) {\r\n      this.dialogActiveItem = type;\r\n      switch (type) {\r\n        case \"新增项目\":\r\n          this.FDTitle = \"新增项目\";\r\n          this.FDVisible = true;\r\n          this.FDForm = [\r\n            {\r\n              type: \"input\",\r\n              label: {\r\n                name: \"编码\",\r\n                width: \"120\"\r\n              },\r\n              key: \"id\",\r\n              clearable: true,\r\n              width: \"280\",\r\n              defaultModel: \"\",\r\n              placeholder: \"\"\r\n            },\r\n            {\r\n              type: \"input\",\r\n              label: {\r\n                name: \"名称\",\r\n                width: \"120\"\r\n              },\r\n              key: \"datasourceName\",\r\n              width: \"280\",\r\n              defaultModel: \"\",\r\n              placeholder: \"\"\r\n            },\r\n            {\r\n              type: \"textarea\",\r\n              label: {\r\n                name: \"备注\",\r\n                width: \"120\"\r\n              },\r\n              key: \"remark\",\r\n              width: \"280\",\r\n              defaultModel: \"\",\r\n              placeholder: \"\",\r\n              autosize: {\r\n                min: 2,\r\n                max: 4\r\n              }\r\n            }\r\n          ];\r\n          return;\r\n        case \"编辑\":\r\n          this.FDTitle = \"编辑项目信息\";\r\n          this.FDVisible = true;\r\n          this.FDForm = [\r\n            {\r\n              type: \"input\",\r\n              label: {\r\n                name: \"编码\",\r\n                width: \"120\"\r\n              },\r\n              key: \"id\",\r\n              clearable: true,\r\n              width: \"280\",\r\n              defaultModel: \"\",\r\n              placeholder: \"\"\r\n            },\r\n            {\r\n              type: \"input\",\r\n              label: {\r\n                name: \"名称\",\r\n                width: \"120\"\r\n              },\r\n              key: \"datasourceName\",\r\n              width: \"280\",\r\n              defaultModel: \"\",\r\n              placeholder: \"\"\r\n            },\r\n            {\r\n              type: \"textarea\",\r\n              label: {\r\n                name: \"备注\",\r\n                width: \"120\"\r\n              },\r\n              key: \"remark\",\r\n              width: \"280\",\r\n              defaultModel: \"\",\r\n              placeholder: \"\",\r\n              autosize: {\r\n                min: 2,\r\n                max: 4\r\n              }\r\n            }\r\n          ];\r\n          if (initDig && JSON.stringify(initDig) !== \"{}\") {\r\n            for (const key in initDig) {\r\n              if (initDig.hasOwnProperty(key)) {\r\n                // TODO 优化\r\n                this.FDForm.forEach(item => {\r\n                  if (key === item.key) {\r\n                    item[\"key\"] = key;\r\n                    item[\"defaultModel\"] = initDig[key];\r\n                  }\r\n                });\r\n              }\r\n            }\r\n          }\r\n          return;\r\n        default:\r\n          return;\r\n      }\r\n    },\r\n    // 分页操作\r\n    changePage({ pageSize, currentPage }) {\r\n      this.$set(this.TPage, `index`, currentPage);\r\n      this.$set(this.TPage, `size`, pageSize);\r\n      this.DSMCList();\r\n    },\r\n    // 单元格事件\r\n    lickCell({ row, column, id }) {\r\n      const { datasourceName, remark } = row;\r\n      switch (column.label) {\r\n        case \"编辑\":\r\n          this.showDialog({\r\n            type: column.label,\r\n            initDig: {\r\n              datasourceName,\r\n              remark,\r\n              id: row.id\r\n            }\r\n          });\r\n          return;\r\n        case \"删除\":\r\n          this.$confirm(`即将删除“${datasourceName}”项目, 是否继续?`, \"提示\", {\r\n            confirmButtonText: \"确定\",\r\n            cancelButtonText: \"取消\",\r\n            type: \"warning\"\r\n          })\r\n            .then(() => {\r\n              this.del({ id: row.id });\r\n            })\r\n            .catch(() => {});\r\n          return;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n\r\n    /* 请求 */\r\n    // 获取项目列表\r\n    DSMCList() {\r\n      let req = null;\r\n      // this.TLoading = true;\r\n      this.tableData = [\r\n        {\r\n          id: \"bj\",\r\n          datasourceName: \"北京\",\r\n          datasourceType_value: \"12\",\r\n          remark: \"mock数据\"\r\n        }\r\n      ];\r\n      // API.DSMCList(req).then(res => {\r\n      //   let Res = new ResDatas(\r\n      //     {\r\n      //       res,\r\n      //       fieldKey: {\r\n      //         data: \"records\",\r\n      //         title: \"\",\r\n      //         total: \"total\",\r\n      //         pageSize: \"size\"\r\n      //       },\r\n      //       titleKey: this.tableTitle\r\n      //     },\r\n      //     \"TLoading\",\r\n      //     this\r\n      //   );\r\n      //   if (Res.init()) {\r\n      //     const { data, total } = Res.formatData();\r\n      //     this.tableData = data;\r\n      //     this.$set(this.TPage, `total`, total);\r\n      //   }\r\n      // });\r\n    },\r\n    // 新增项目\r\n    DSMCAdd(req) {\r\n      this.FDVisible = false;\r\n      // const {\r\n      //   databaseName,\r\n      //   datasourceName,\r\n      //   datasourceType,\r\n      //   ip,\r\n      //   password,\r\n      //   port,\r\n      //   remark,\r\n      //   username\r\n      // } = req;\r\n      // API.DSMCAdd({\r\n      //   databaseName,\r\n      //   datasourceName,\r\n      //   datasourceType,\r\n      //   ip,\r\n      //   password,\r\n      //   port,\r\n      //   remark,\r\n      //   username\r\n      // }).then(res => {\r\n      //   new ResDatas({ res, msg: \"添加成功!\" }).state();\r\n      //   this.FDVisible = false;\r\n      //   this.DSMCList();\r\n      // });\r\n    },\r\n    // 编辑项目\r\n    DSMCUpdate(req) {\r\n      this.FDVisible = false;\r\n      // const {\r\n      //   databaseName,\r\n      //   datasourceName,\r\n      //   datasourceType,\r\n      //   ip,\r\n      //   password,\r\n      //   port,\r\n      //   remark,\r\n      //   username\r\n      // } = req;\r\n      // API.DSMCUpdate(req).then(res => {\r\n      //   new ResDatas({ res, msg: \"修改成功!\" }).state();\r\n      //   this.FDVisible = false;\r\n      //   this.DSMCList();\r\n      // });\r\n    },\r\n    // 删除操作\r\n    del({ id }) {\r\n      console.log(\"删除ID\", id);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.DSMCList();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.d-c-o-project-manage {\r\n  &-edit-area {\r\n    overflow: hidden;\r\n    &-btn {\r\n      float: left;\r\n      overflow: hidden;\r\n      li {\r\n        float: left;\r\n        margin: 2px 15px;\r\n      }\r\n    }\r\n    &-select {\r\n      float: left;\r\n      overflow: hidden;\r\n      margin: 4px 55px;\r\n      li {\r\n        float: left;\r\n        margin-right: 20px;\r\n        &:last-child {\r\n          margin-right: 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  &-table {\r\n    margin: 20px 0;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/data-collection/overview/project-manage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-c-o-project-manage\"},[_c('div',{staticClass:\"d-c-o-project-manage-edit-area\"},[_c('ul',{staticClass:\"d-c-o-project-manage-edit-area-btn\"},[_c('li',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.showDialog({type:'新增项目'})}}},[_vm._v(\"新增项目\")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"d-c-o-project-manage-table\"},[_c('TableDefault',{attrs:{\"TLoading\":_vm.TLoading,\"TTitle\":_vm.tableTitle,\"TData\":_vm.tableData,\"TIsShowPage\":true,\"TTotal\":_vm.TPage.total,\"TCurrentPage\":_vm.TPage.index,\"TPageSize\":_vm.TPage.size,\"TEdit\":_vm.TEdit,\"TClickItem\":_vm.TClickItem},on:{\"editBtnCb\":_vm.editBtnCb,\"clickCell\":_vm.lickCell,\"changePage\":_vm.changePage}})],1),_vm._v(\" \"),_c('FormDialog',{attrs:{\"FDVisible\":_vm.FDVisible,\"FDTitle\":_vm.FDTitle,\"FDWidth\":\"500\",\"FDForm\":_vm.FDForm,\"FDFoot\":_vm.FDFoot},on:{\"editBtnCb\":_vm.editBtnCb}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-014b8080\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/data-collection/overview/project-manage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-014b8080\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./project-manage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./project-manage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./project-manage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-014b8080\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./project-manage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-014b8080\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/data-collection/overview/project-manage.vue\n// module id = null\n// module chunks = ","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/createClass.js\n// module id = wxAW\n// module chunks = 3 4"],"sourceRoot":""}