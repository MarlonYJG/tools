webpackJsonp([4],{KvxI:function(e,t){},Zrlr:function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},b0ey:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var a=i("mvHQ"),r=i.n(a),l=i("Zrlr"),s=i.n(l),o=i("wxAW"),n=i.n(o),d=i("zL8q"),c=(i.n(d),function(){function e(t){var i=t.res,a=void 0===i?null:i,l=t.code,o=void 0===l?200:l,n=t.msg,d=void 0===n?"成功!":n,c=t.error,u=void 0===c?"暂无数据":c,h=t.fieldKey,f=void 0===h?{data:"data",title:"title",total:"total",pageSize:"pageSize"}:h,m=t.titleKey,p=void 0===m?null:m,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s()(this,e),this.res=a,this.code=o,this.vm=v,this.load=b,this.msg=d,this.error=u,this.serverError="服务异常",this.fieldKey=f,this.titleKey=JSON.parse(r()(p))}return n()(e,[{key:"init",value:function(){this.vm&&this.load&&(this.vm[this.load]=!1);try{return this.res&&this.res.data&&Number(this.res.data.code)===Number(this.code)?this.res.data.data:(Object(d.Message)({showClose:!0,message:this.error,type:"error"}),null)}catch(e){return Object(d.Message)({showClose:!0,message:this.serverError,type:"error"}),null}}},{key:"state",value:function(){try{this.res&&this.res.data&&Number(this.res.data.code)===Number(this.code)?Object(d.Message)({showClose:!0,message:this.msg,type:"success"}):Object(d.Message)({showClose:!0,message:this.error,type:"error"})}catch(e){Object(d.Message)({showClose:!0,message:this.serverError,type:"error"})}}},{key:"formatData",value:function(){var e={};for(var t in this.fieldKey)if(this.fieldKey.hasOwnProperty(t))if(this.fieldKey[t]){var i=this.res.data.data;if(i&&"{}"!==r()(i)&&!Array.isArray(i))for(var a in i)i.hasOwnProperty(a)&&this.fieldKey[t]===a&&(e[t]=i[a])}else this.titleKey&&(e.title=this.titleKey);return e}}]),e}())},r7UP:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("mvHQ"),r=i.n(a),l=i("is1l"),s=(i("gyMJ"),i("b0ey"),{mixins:[l.a],data:function(){var e=this;return{TLoading:!1,TEdit:{show:!0,title:"操作",editTypes:[{label:"编辑",property:"edit"},{label:"删除",property:"del",pass:!0}]},tableTitle:[{prop:"id",label:"编码"},{prop:"datasourceName",label:"名称"},{prop:"datasourceType_value",label:"采集任务个数"},{prop:"remark",label:"备注"}],tableData:[],TPage:{total:100,index:1,size:10},TClickItem:[{link:"/dataCollection/task/list",cells:["datasourceType_value"]}],FDVisible:!1,FDTitle:"",FDForm:[],FDFoot:{button:[{type:"ok",label:"确定",cb:function(t){"新增项目"===e.dialogActiveItem?e.DSMCAdd(t):e.DSMCUpdate(t)}}]},clickObj:"",dialogActiveItem:""}},methods:{editBtnCb:function(e,t,i){this.clickObj=e;var a=e.label;"删除"===a||"close"===a&&(this.FDVisible=e.close)},showDialog:function(e){var t=this,i=e.type,a=e.initDig,l=void 0===a?null:a;switch(this.dialogActiveItem=i,i){case"新增项目":return this.FDTitle="新增项目",this.FDVisible=!0,void(this.FDForm=[{type:"input",label:{name:"编码",width:"120"},key:"id",clearable:!0,width:"280",defaultModel:"",placeholder:""},{type:"input",label:{name:"名称",width:"120"},key:"datasourceName",width:"280",defaultModel:"",placeholder:""},{type:"textarea",label:{name:"备注",width:"120"},key:"remark",width:"280",defaultModel:"",placeholder:"",autosize:{min:2,max:4}}]);case"编辑":if(this.FDTitle="编辑项目信息",this.FDVisible=!0,this.FDForm=[{type:"input",label:{name:"编码",width:"120"},key:"id",clearable:!0,width:"280",defaultModel:"",placeholder:""},{type:"input",label:{name:"名称",width:"120"},key:"datasourceName",width:"280",defaultModel:"",placeholder:""},{type:"textarea",label:{name:"备注",width:"120"},key:"remark",width:"280",defaultModel:"",placeholder:"",autosize:{min:2,max:4}}],l&&"{}"!==r()(l)){var s=function(e){l.hasOwnProperty(e)&&t.FDForm.forEach(function(t){e===t.key&&(t.key=e,t.defaultModel=l[e])})};for(var o in l)s(o)}return;default:return}},changePage:function(e){var t=e.pageSize,i=e.currentPage;this.$set(this.TPage,"index",i),this.$set(this.TPage,"size",t),this.DSMCList()},lickCell:function(e){var t=this,i=e.row,a=e.column,r=(e.id,i.datasourceName),l=i.remark;switch(a.label){case"编辑":return void this.showDialog({type:a.label,initDig:{datasourceName:r,remark:l,id:i.id}});case"删除":return void this.$confirm("即将删除“"+r+"”项目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.del({id:i.id})}).catch(function(){})}},DSMCList:function(){this.tableData=[{id:"bj",datasourceName:"北京",datasourceType_value:"12",remark:"mock数据"}]},DSMCAdd:function(e){this.FDVisible=!1},DSMCUpdate:function(e){this.FDVisible=!1},del:function(e){e.id}},mounted:function(){this.DSMCList()}}),o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"d-c-o-project-manage"},[i("div",{staticClass:"d-c-o-project-manage-edit-area"},[i("ul",{staticClass:"d-c-o-project-manage-edit-area-btn"},[i("li",[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.showDialog({type:"新增项目"})}}},[e._v("新增项目")])],1)])]),e._v(" "),i("div",{staticClass:"d-c-o-project-manage-table"},[i("TableDefault",{attrs:{TLoading:e.TLoading,TTitle:e.tableTitle,TData:e.tableData,TIsShowPage:!0,TTotal:e.TPage.total,TCurrentPage:e.TPage.index,TPageSize:e.TPage.size,TEdit:e.TEdit,TClickItem:e.TClickItem},on:{editBtnCb:e.editBtnCb,clickCell:e.lickCell,changePage:e.changePage}})],1),e._v(" "),i("FormDialog",{attrs:{FDVisible:e.FDVisible,FDTitle:e.FDTitle,FDWidth:"500",FDForm:e.FDForm,FDFoot:e.FDFoot},on:{editBtnCb:e.editBtnCb}})],1)},staticRenderFns:[]};var n=i("VU/8")(s,o,!1,function(e){i("KvxI")},"data-v-014b8080",null);t.default=n.exports},wxAW:function(e,t,i){"use strict";t.__esModule=!0;var a,r=i("C4MV"),l=(a=r)&&a.__esModule?a:{default:a};t.default=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,l.default)(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}()}});
//# sourceMappingURL=4.44b4093f8dc715de79f5.js.map